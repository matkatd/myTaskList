(function(){"use strict";var e={749:function(e,t,o){var r=o(144),n=o(1096),a=o(3551),s=function(){var e=this,t=e._self._c;return t(n.Z,[t("link",{attrs:{href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons",rel:"stylesheet",type:"text/css"}}),t("AppBar",{attrs:{user:e.user}}),t(a.Z,[t("router-view",{attrs:{user:e.user}})],1)],1)},i=[],c=o(5378),l=o(1828),u=o(4192),d=o(5057),f=o(248),p=o(1908),m=o(3944),h=o(8228),v=o(1437),k=o(5234),g=o(2370),b=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app-bar"}},[t(c.Z,{attrs:{app:"",color:"primary",dark:""}},[t(g.qW,[e._v("Todo App")]),t(k.Z),e.$asyncComputed.loggedIn?t(l.Z,{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}},[t(d.Z,[e._v("mdi-menu")])],1):e._e()],1),t(v.Z,{attrs:{absolute:"",temporary:"",right:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(p.Z,[t(m.V9,[e._v(e._s(e.$props.user.UserName))])],1),t(u.Z),t(f.Z,{attrs:{dense:""}},[t(p.Z,{attrs:{href:`${e.$data.apiOrigin}/api/v1/auth/logout`,link:""}},[t(h.Z,[t(d.Z,[e._v("mdi-logout-variant")])],1),t(m.km,[t(m.V9,[e._v("Log Out")])],1)],1)],1)],1)],1)},Z=[];const y=document.cookie.split(/ */).reduce(((e,t)=>{if(""===t)return e;const o=t.indexOf("="),r=o>0?t.slice(0,o):t;let n=o>0?t.slice(o+1):null;if(null!=n)try{n=decodeURIComponent(n)}catch(a){console.error(a)}return e[r]=n,e}),{}),T=()=>{const e=new Date;return`${e.getFullYear()}-${w(e.getMonth()+1)}-${w(e.getDate())}`},_=e=>{const t=new Date(e);return`${t.getFullYear()}-${w(t.getMonth()+1)}-${w(t.getDate())}`},w=e=>{if(e<0)throw new Error("Number must be positive");return e<10?`0${e}`:`${e}`},x=()=>new Promise((e=>{fetch("https://medialord.hopto.org:1337/api/v1/user",{credentials:"include"}).then((({ok:t})=>e(t))).catch((t=>{console.error("Error in 'authenticated': ",t),e(!1)}))}));var O={name:"AppBar",props:{user:{Type:Object}},data:()=>({drawer:!1,apiOrigin:"https://medialord.hopto.org:1337"}),asyncComputed:{loggedIn:{get:async()=>await x(),default:!1}}},D=O,$=o(1001),j=(0,$.Z)(D,b,Z,!1,null,null,null),C=j.exports,P={name:"App",components:{AppBar:C},asyncComputed:{user:{async get(){let e;return e=await fetch("https://medialord.hopto.org:1337/api/v1/user",{headers:{Cookie:y},credentials:"include"}).then((e=>{if(e.ok)return e.json();e.UserName=""})),e},default:{UserName:""}}}},A=P,N=(0,$.Z)(A,s,i,!1,null,null,null),E=N.exports,L=o(7879),S=o(5205);(0,S.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var F=o(8345),B=o(3385),M=o(2680),U=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[e.fetched?t(B.Z,{staticClass:"mx-auto",attrs:{"max-width":"900"}},[t("NewTaskForm",{attrs:{form:e.form},on:{submitted:e.createTask}}),t(u.Z),t(f.Z,{attrs:{subheader:"","two-line":"",flat:""}},[t(M.Z,[e._v(" "+e._s(e.user.UserName)+"'s Tasks: ")]),t("TaskList",{attrs:{tasks:e.tasks},on:{deleted:e.deleteTask,checked:e.updateTask}})],1)],1):e._e()],1)},I=[],q=o(4437),H=o(6035),V=o(8481),W=o(6904),J=o(4831),R=o(5294),Y=o(303),z=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"new-task-form"},on:{submit:function(t){return t.preventDefault(),e.submitHandler.apply(null,arguments)}}},[t(W.Z,[t(H.Z,[t(R.Z,[t(q.Z,{attrs:{cols:"12",xs:"12",sm:"6"}},[t(Y.Z,{attrs:{label:"Add a task...","prepend-icon":"edit",required:""},model:{value:e.form.Text,callback:function(t){e.$set(e.form,"Text",t)},expression:"form.Text"}})],1),t(q.Z,{attrs:{cols:"12",xs:"12",sm:"4"}},[t(J.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:o}){return[t(Y.Z,e._g({attrs:{label:"When should the task be done?","prepend-icon":"event"},model:{value:e.form.Date,callback:function(t){e.$set(e.form,"Date",t)},expression:"form.Date"}},o))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(V.Z,{on:{input:function(t){e.menu=!1}},model:{value:e.form.Date,callback:function(t){e.$set(e.form,"Date",t)},expression:"form.Date"}})],1)],1),t(q.Z,{attrs:{cols:"12",xs:"4","offset-xs":"4",sm:"2"}},[t(l.Z,{staticClass:"mt-3",attrs:{type:"submit",text:"",color:"success",block:""}},[t(d.Z,{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add Task ")],1)],1)],1)],1)],1)],1)},G=[],K={name:"NewTaskForm",props:{form:{Type:Object,Default:{Text:"",Date:T()}}},data:()=>({menu:!1}),methods:{submitHandler(){const e={Text:this.form.Text,Date:_(this.form.Date)};this.$emit("submitted",e)}}},Q=K,X=(0,$.Z)(Q,z,G,!1,null,"4548e62d",null),ee=X.exports,te=o(2755),oe=o(3946),re=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"task-list"}},e._l(e.Tasks,(function(o){return t(oe.Z,{key:o._id},[t(p.Z,[[t(te.Z,{on:{click:function(t){return e.clickCheckBox(o)}}},[t(l.Z,{attrs:{icon:""}},[o.Done?t(d.Z,[e._v("check_box")]):t(d.Z,[e._v("check_box_outline_blank")])],1)],1),t(m.km,[t(m.V9,[e._v(" "+e._s(o.Text)+" ")]),t(m.oZ,[e._v(" "+e._s(o.Date)+" ")])],1),t(te.Z,{on:{click:function(t){return e.clickDelete(o)}}},[t(l.Z,{attrs:{icon:""}},[t(d.Z,{attrs:{color:"red"}},[e._v("delete")])],1)],1)]],2)],1)})),1)},ne=[],ae={name:"TaskList",props:{Tasks:{Type:Array,Default:()=>[]}},methods:{clickCheckBox(e){this.$emit("checked",e)},clickDelete(e){this.$emit("deleted",e)}}},se=ae,ie=(0,$.Z)(se,re,ne,!1,null,null,null),ce=ie.exports,le={name:"Home",components:{AppBar:C,NewTaskForm:ee,TaskList:ce},props:{user:Object},data:()=>({fetched:!1,tasks:[],form:{Text:"",Date:T()}}),mounted(){this.readTasks()},methods:{createTask(e){fetch("https://medialord.hopto.org:1337/api/v1/tasks/",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{e.ok&&(this.readTasks(),this.form.Text="",this.form.Date="")}))},readTasks(){fetch("https://medialord.hopto.org:1337/api/v1/tasks",{credentials:"include"}).then((e=>e.json())).then((e=>{this.tasks=e,this.fetched=!0}))},updateTask(e){let t=!1;t=1!=e.Done,fetch(`https://medialord.hopto.org:1337/api/v1/tasks/${e._id}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({Done:t})}).then((e=>{e.ok&&this.readTasks()}))},deleteTask(e){fetch(`https://medialord.hopto.org:1337/api/v1/tasks/${e._id}`,{method:"DELETE",credentials:"include"}).then((e=>{e.ok&&this.readTasks()}))}}},ue=le,de=(0,$.Z)(ue,U,I,!1,null,"00d2159f",null),fe=de.exports,pe=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"login"}},[t("h1",[e._v("Welcome to your Task List!")]),t(l.Z,{attrs:{href:`${e.apiOrigin}/api/v1/auth/google`,color:"primary"}},[t(d.Z,{attrs:{left:""}},[e._v("mdi-google")]),e._v(" Log In with Google ")],1)],1)},me=[],he={name:"Login",data:()=>({apiOrigin:"https://medialord.hopto.org:1337"})},ve=he,ke=(0,$.Z)(ve,pe,me,!1,null,"6f916b98",null),ge=ke.exports;r.ZP.use(F.ZP);const be=async(e,t,o)=>{try{await x()?o():o({path:"/login",replace:!0})}catch(r){console.error(r.message),o({path:"/login",replace:!0})}},Ze=[{path:"/",name:"Home",component:fe,beforeEnter:be,props:!0},{path:"/about",name:"about",component:()=>o.e(443).then(o.bind(o,7750))},{path:"/login",name:"Login",component:ge}],ye=new F.ZP({mode:"history",base:"/",routes:Ze});var Te=ye,_e=o(2250);r.ZP.use(_e.Z);var we=new _e.Z({});r.ZP.config.productionTip=!1,r.ZP.use(L.Z),new r.ZP({router:Te,vuetify:we,render:e=>e(E)}).$mount("#app")}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,r,n,a){if(!r){var s=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],a=e[u][2];for(var i=!0,c=0;c<r.length;c++)(!1&a||s>=a)&&Object.keys(o.O).every((function(e){return o.O[e](r[c])}))?r.splice(c--,1):(i=!1,a<s&&(s=a));if(i){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,r){return o.f[r](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/about.354d0921.js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="tasklist:";o.l=function(r,n,a,s){if(e[r])e[r].push(n);else{var i,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",t+a),i.src=r),e[r]=[n];var f=function(t,o){i.onerror=i.onload=null,clearTimeout(p);var n=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(o)})),t)return t(o)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={143:0};o.f.j=function(t,r){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise((function(o,r){n=e[t]=[o,r]}));r.push(n[2]=a);var s=o.p+o.u(t),i=new Error,c=function(r){if(o.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,n[1](i)}};o.l(s,c,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,a,s=r[0],i=r[1],c=r[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(c)var u=c(o)}for(t&&t(r);l<s.length;l++)a=s[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},r=self["webpackChunktasklist"]=self["webpackChunktasklist"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(749)}));r=o.O(r)})();
//# sourceMappingURL=app.bcd8ed42.js.map